---
export interface Props {
  images: string[];
  title: string;
}

const { images, title } = Astro.props;
---

<div class="product-image-carousel">
  <div class="swiper product-images-swiper">
    <div class="swiper-wrapper">
      {images.map((image, index) => (
        <div class="swiper-slide">
          <img 
            src={image} 
            alt={`${title} - Imagen ${index + 1}`}
            class="w-full h-96 md:h-[500px] object-cover rounded-lg"
            loading={index === 0 ? "eager" : "lazy"}
          />
        </div>
      ))}
    </div>
    
    {images.length > 1 && (
      <>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
      </>
    )}
  </div>
  
  {images.length > 1 && (
    <div class="swiper product-thumbs-swiper mt-4">
      <div class="swiper-wrapper">
        {images.map((image, index) => (
          <div class="swiper-slide cursor-pointer">
            <img 
              src={image} 
              alt={`${title} - Miniatura ${index + 1}`}
              class="w-full h-20 object-cover rounded-lg border-2 border-transparent hover:border-primary-500 transition-colors duration-300"
              loading="lazy"
            />
          </div>
        ))}
      </div>
    </div>
  )}
</div>

<style>
  .product-thumbs-swiper .swiper-slide-thumb-active img {
    border-color: #3B82F6;
  }
  
  .swiper-pagination-bullet-active {
    background-color: #3B82F6;
  }
  
  .swiper-button-next, .swiper-button-prev {
    color: #3B82F6;
  }
</style>